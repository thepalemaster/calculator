# Калькулятор площади поверхности
## Вводная часть
Данная программа представляет собой калькулятор для расчёта площади поверхности сложных фигур. Программа состоит из частей одну из которых можно условно назвать "серверной частью" (бэкендом), а остальные -- "клиентами" (фронтендами) для работы с бэкендом.    
Принцип работы программы основан на том, что, как правило, поверхность объекта сложной формы можно представить как совокупность поверхностей простых фигур, а значит и площадь поверхности объекта можно относительно легко (без применения дифференциального исчисления) рассчитать как сумму поверхностей простых фигур.    
Простые фигуры (примитивы), которые поддерживает калькулятор могут иметь до четырёх числовых параметров и до двух булевых параметров в формуле расчёта своей площади.    
##  Доступные фронтенды 
На данный момент доступны следующие фронтенды:    
 - `qt_area_calc` версия основанная на QtWidgets;    
 - `area_calc` консольная версия.    
Для каждого фронтенда есть отдельный одноимённый таргет в конфигурации CMake и он может быть скомпилирован независимо от других.
Для сборки англоязычной версии необходимо запустить CMake с параметром `-DLANGUAGE_FOR_BUILD=eng`.
## Добавление новых фигур (примитивов)
Так как для расчёта площади зачастую может потребоваться разбиение на довольно специфичные примитивы, то для калькулятора предусмотрена возможность максимально простого добавления новых примитивов.
Для добавления нового примитива необходимо:
 - объявить класс унаследованный от класса AbstactShape (объявлен в shapes.hpp); 
 - переопределить виртуальный метод calculate;
 - в конструкторе родительского класса указать список опций для фигуры (список доступных опций указан ниже);
 - передать класс фигуры как шаблонный параметр в функцию generateShapesList при инициализации класса Calculator (в файле calculator.cpp).

### Список доступных опций
Опция представляет собой структуру состоящий из значения перечисляемого типа `OptionType` и текста (поле `text`).
Доступные значения `OptionType`:
- `NAME` в текстовом поле должно содержаться название фигуры, если есть несколько опций `NAME` то выберется только один из них.    
- `SHORT_NAME` в тестовом поле должна содержаться краткая запись имени фигуры, их может быть более одной.    
- `INPUT_DOUBLE_1`, `INPUT_DOUBLE_2`, `INPUT_DOUBLE_3`, `INPUT_DOUBLE_4` задают количество и названия числовых параметров (названия задаются в текстовом поле) для расчёта площади. Необходимо задавать опции по порядку в соответствии со своими порядковыми номерами. Например, если заданы только опции `INPUT_DOUBLE_1` и `INPUT_DOUBLE_3`, то опция `INPUT_DOUBLE_3` будет проигнорирована, так как опция `INPUT_DOUBLE_2` не задана.    
Нулевые числовые значения, даже если они введены пользователем, считаются калькулятором как пустые и не рассчитываются     
- `INPUT_BOOL_1`, `INPUT_BOOL_2` аналогично опции для параметров булевого типа.     
- `PRINTF_TEMPLATE` опция задаёт текстовое отображение рассчитанной фигуры в формате функции printf. Без этой опции калькулятор самостоятельно задаёт текстовое отображение. В строку формата передаются, сначала рассчитанное значение площади, затем числовые параметры в соответствии со своим порядковым номером. Значения параметров булевого типа не отображаются, для их отображения требуется переопределение `PRINTF_TEMPLATE` с помощью опций `IF_BOOL_...`       
- `DOUBLE_DEFAULT` задаёт начальное значение параметра, без этой опции начальное значение будет равно 0. `DOUBLE_DEFAULT` должна следовать сразу за опциями `INPUT_DOUBLE`, иначе она будет проигнорирована    
- `IF_BOOL_1_ON`, `IF_BOOL_2_ON` и `IF_BOTH_BOOL_ON` задают условные опции, значение текстового поля не учитывается. Данные опции задают какие опции активируются, если значение соответствующего параметра булевого типа в переходит в значение true. У `INPUT_BOOL_1`приоритет выше, чем у `INPUT_BOOL_2`, то есть если они одновременно переопределяют опцию одного типа и оба параметра булевого типа будут в значении true, будет учитываться опция которая задаётся `IF_BOOL_1_ON`, а не `IF_BOOL_2_ON`      
Опции `SHORT_NAME`, `DOUBLE_DEFAULT`, а так же `INPUT_BOOL_1` и `INPUT_BOOL_2` игнорируются как условные опции  
- `FI_BOOL_ON` закрывает опции `IF_BOOL_1_ON`, `IF_BOOL_2_ON` и `IF_BOTH_BOOL_ON`, значение текстового поля не учитывается. Только те опции, которые заключены между опциями `IF_BOOL_...` и `FI_BOOL_ON`, будут считаться условными
- `LANGUAGE` задаёт язык на котором выводится информация о фигуре. Все опции следующие после этой опции считаются значениями специфичными для языка, указанного в текстовом теле опции и до тех пор пока не встретится другая опция с типом `LANGUAGE` или список не закончится. Название языка, который будет использоваться в программе, задаётся в фронтенде калькулятора, если название в фронтенде не совпадает с названием заданной опцией `LANGUAGE` то все опции игнорируются, до тех пор пока не встретится опция с "правильным" обозначением языка. Опции до первого появления опции `LANGUAGE` считаются общими для всех языков. Для основных фигур используются, краткие обозначения ru(русский) и eng(английский).